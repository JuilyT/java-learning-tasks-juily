package org.Refactoring;

import java.util.Iterator;

public class PdfPrintStatement implements PrintStatement{
	private Customer customer;

	public PdfPrintStatement(Customer customer) {
		this.customer = customer;
	}

	public String fetchStatement() {
		Iterator<Rental> iterator = customer.getRentals().iterator();
		double price = 0.0;
		while (iterator.hasNext()) {
			Rental rental = iterator.next();
			price += BookFactory.getBook(rental.getBook().getBookCategory()).getPrice(rental.getDaysRented());
		}
		return new StringBuilder().append("PDF Statement: ").append(price).toString();
	}

}
